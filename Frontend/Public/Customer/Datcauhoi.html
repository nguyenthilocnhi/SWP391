<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ƒê·∫∑t C√¢u H·ªèi</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/Frontend/assets/css/datcauhoi.css">
</head>

<body>

  <!-- N√∫t g√≥c ph·∫£i d·∫´n ƒë·∫øn l·ªãch s·ª≠ -->
  <div class="corner-history">
    <a href="/Frontend/Public/Customer/Lichsucauhoi.html" class="history-icon" title="Xem l·ªãch s·ª≠ c√¢u h·ªèi">üìã</a>
  </div>

  <main class="question-form-container">
    <div class="logo">
      <a href="/Frontend/Public/Customer/TrangchuCustomer.html">
        <img src="https://i.postimg.cc/mZjYJ7wm/logo.jpg" alt="Logo An Gi·ªõi" />
      </a>
    </div>
    <h1>G·ª≠i C√¢u H·ªèi T∆∞ V·∫•n S·ª©c Kh·ªèe</h1>

    <div class="alert-success" id="successMessage">‚úÖ C√¢u h·ªèi c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!</div>

    <form class="question-form" id="formQuestion">
      <div class="name-anonymous-row">
        <div class="name-field" id="nameField">
          <label for="name">H·ªç v√† t√™n</label>
          <input type="text" id="name" name="name">
        </div>

        <div class="anonymous-toggle">
          <input type="checkbox" id="anonymousCheckbox">
          <label for="anonymousCheckbox">G·ª≠i ·∫©n danh</label>
        </div>
      </div>


      <label for="email">Email</label>
      <input type="email" id="email" name="email" required>

      <label for="age">Tu·ªïi</label>
      <input type="number" id="age" name="age" min="10" max="100" required>

      <label for="gender">Gi·ªõi t√≠nh</label>
      <select id="gender" name="gender" required>
        <option value="">-- Ch·ªçn gi·ªõi t√≠nh --</option>
        <option value="nam">Nam</option>
        <option value="nu">N·ªØ</option>
        <option value="khac">Kh√°c</option>
      </select>

      <label for="specialty">Chuy√™n khoa li√™n quan</label>
      <select id="specialty" name="specialty" required>
        <option value="">-- Ch·ªçn chuy√™n khoa --</option>
        <option value="namkhoa">Nam khoa</option>
        <option value="phukhoa">Ph·ª• khoa</option>
        <option value="noitiet">N·ªôi ti·∫øt</option>
        <option value="xetnghiem">X√©t nghi·ªám</option>>
      </select>

      <label for="topic">Ch·ªß ƒë·ªÅ c√¢u h·ªèi</label>
      <select id="topic" name="topic" required>
        <option value="">-- Ch·ªçn ch·ªß ƒë·ªÅ --</option>
        <option value="kinhnguyet">Chu k·ª≥ kinh nguy·ªát</option>
        <option value="tranhthai">Bi·ªán ph√°p tr√°nh thai</option>
        <option value="benhly">Tri·ªáu ch·ª©ng b·ªánh l√Ω</option>
        <option value="tamsinhly">T√¢m l√Ω - t√¨nh c·∫£m</option>
        <option value="khac">Kh√°c</option>
      </select>

      <label for="subject">Ti√™u ƒë·ªÅ c√¢u h·ªèi</label>
      <input type="text" id="subject" name="subject" required>

      <label for="message">N·ªôi dung c√¢u h·ªèi</label>
      <textarea id="message" name="message" rows="6" required></textarea>

      <button type="submit">G·ª≠i c√¢u h·ªèi</button>
    </form>
  </main>

  <script>
    document.getElementById("formQuestion").addEventListener("submit", function (e) {
      e.preventDefault();

      const subject = document.getElementById("subject").value;
      const specialty = document.getElementById("specialty").value;
      const now = new Date();
      const dateSent = now.toLocaleDateString('vi-VN');
      const status = "ƒêang ch·ªù tr·∫£ l·ªùi";

      const newQuestion = {
        subject: subject,
        specialty: specialty,
        status: status,
        date: dateSent
      };

      let questions = JSON.parse(localStorage.getItem("questionHistory")) || [];
      questions.push(newQuestion);
      localStorage.setItem("questionHistory", JSON.stringify(questions));

      document.getElementById("successMessage").style.display = "block";
      this.reset();
      document.getElementById("nameField").style.display = "block";
      document.getElementById("name").required = true;
      document.getElementById("anonymousCheckbox").checked = false;

      document.getElementById("successMessage").scrollIntoView({ behavior: 'smooth' });
    });

    document.getElementById("anonymousCheckbox").addEventListener("change", function () {
      const nameField = document.getElementById("nameField");
      const nameInput = document.getElementById("name");
      if (this.checked) {
        nameField.style.display = "none";
        nameInput.required = false;
      } else {
        nameField.style.display = "block";
        nameInput.required = true;
      }
    });
    const isAnonymous = document.getElementById("anonymousCheckbox").checked;
    const newQuestion = {
      subject,
      specialty,
      status,
      date: dateSent,
      isAnonymous
    };
  </script>

</body>

</html>