<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ThS. Lê Văn K | An Giới Health</title>
  <link rel="stylesheet" href="/Frontend/assets/css/chitiettuvanvien.css" />
</head>

<body>
  <!-- gọi header -->
  <div id="header-placeholder"></div>
  <script>
    fetch('/Frontend/components/header_customer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById("header-placeholder").innerHTML = data;

        // Kích hoạt lại các <script> bên trong file header_customer.html nếu có
        const scripts = document.querySelectorAll('#header-placeholder script');
        scripts.forEach(oldScript => {
          const newScript = document.createElement('script');
          if (oldScript.src) {
            newScript.src = oldScript.src;
          } else {
            newScript.textContent = oldScript.textContent;
          }
          document.body.appendChild(newScript);
        });
      });
  </script>

  <!-- sau khi called header thị nhớ căng nd ở dưới dùng margin-top: 12px -->

  <div class="container">
    <div class="breadcrumb">
      <a href="/Frontend/Public/Customer/TuvanvienCustomer.html">Danh sách Tư vấn viên</a>
    </div>

    <div class="profile-header">
      <img src="https://i.postimg.cc/Y2QtdmMC/Tr-ng-Thanh.png" alt="GS. Trương Thanh K" />
      <div class="profile-info">
        <h1>GS. Trương Thanh K</h1>
        <p><strong>Chức danh:</strong> Trưởng khoa Sức khỏe sinh sản</p>
        <p><strong>Kinh nghiệm:</strong> 12 năm</p>
        <p><strong>Trường đào tạo:</strong> ĐH Y Dược TP.HCM (2005 – 2013)</p>
      </div>
    </div>

    <h2 class="section-title">Giới thiệu</h2>
    <p>
      Thạc sĩ Trương Thanh K là chuyên gia tư vấn tâm lý gia đình với hơn 10 năm kinh nghiệm trong lĩnh vực tâm lý học và tư
      vấn hôn nhân gia đình. Anh được biết đến với chuyên môn sâu về các vấn đề tâm lý trong mối quan hệ gia đình và hôn
      nhân.
    </p>
    <p>
      Sau khi tốt nghiệp Đại học Khoa học Xã hội & Nhân văn TP.HCM, ThS. K đã tham gia các chương trình đào tạo chuyên
      sâu về tâm lý học gia đình và trị liệu tâm lý tại các tổ chức quốc tế, tập trung vào việc hỗ trợ các gia đình giải
      quyết các vấn đề tâm lý và mối quan hệ.
    </p>
    <p>
      Hiện tại, anh công tác tại An Giới Health Center với vai trò chuyên viên tư vấn chính trong lĩnh vực tâm lý gia
      đình, đặc biệt là các chương trình tư vấn hôn nhân và trị liệu tâm lý gia đình.
    </p>

    <h2 class="section-title">Chuyên môn tư vấn</h2>

    <h3>Chứng chỉ</h3>
    <ul class="custom-list">
      <li>Chứng chỉ Tâm lý học gia đình – ĐH KHXH&NV TP.HCM, 2014</li>
      <li>Khóa học Trị liệu tâm lý gia đình – Viện Tâm lý học Việt Nam, 2015</li>
      <li>Chứng chỉ Tư vấn hôn nhân gia đình – Hội Tâm lý học Việt Nam, 2016</li>
    </ul>

    <h3>Bằng cấp</h3>
    <ul class="custom-list">
      <li>Cử nhân Tâm lý học – ĐH KHXH&NV TP.HCM, 2008 – 2014</li>
      <li>Thạc sĩ Tâm lý học lâm sàng – ĐH KHXH&NV TP.HCM, 2014 – 2016</li>
    </ul>

    <h2 class="section-title">Thành tựu nổi bật</h2>
    <ul class="custom-list">
      <li>Thành viên Ban chuyên môn Hội Tâm lý học Việt Nam</li>
      <li>Diễn giả các hội thảo về tâm lý gia đình tại các tỉnh miền Nam</li>
      <li>Tác giả nhiều bài báo khoa học về tâm lý học gia đình</li>
    </ul>
  </div>

  <!-- Footer -->
  <div id="footer-placeholder"></div>
  <script>
    fetch('/Frontend/components/footer.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('footer-placeholder').innerHTML = data;
      });
  </script>

  <!-- JavaScript cho dropdown và thông báo -->
  <script>
    // Hàm xử lý định dạng thời gian
    function timeAgo(dateString) {
      const now = new Date();
      const date = new Date(dateString);
      const seconds = Math.floor((now - date) / 1000);

      const intervals = [
        { label: 'năm', seconds: 31536000 },
        { label: 'tháng', seconds: 2592000 },
        { label: 'ngày', seconds: 86400 },
        { label: 'giờ', seconds: 3600 },
        { label: 'phút', seconds: 60 },
        { label: 'giây', seconds: 1 },
      ];

      for (const interval of intervals) {
        const count = Math.floor(seconds / interval.seconds);
        if (count >= 1) {
          return `${count} ${interval.label} trước`;
        }
      }
      return 'Vừa xong';
    }

    // Khởi tạo dropdown và thông báo sau khi header được load
    function initHeaderFunctions() {
      // Dropdown menu người dùng
      const dropdownToggle = document.querySelector('.user-dropdown');
      const userMenu = document.querySelector('.user-menu');

      if (dropdownToggle && userMenu) {
        dropdownToggle.addEventListener('click', function (e) {
          e.stopPropagation();
          userMenu.classList.toggle('hidden');
        });

        // Click ngoài thì ẩn menu
        document.addEventListener('click', function (e) {
          if (!userMenu.contains(e.target) && !dropdownToggle.contains(e.target)) {
            userMenu.classList.add('hidden');
          }
        });
      }

      // Cập nhật thời gian thông báo
      const notifications = document.querySelectorAll('.notify-content');
      notifications.forEach(content => {
        const timeString = content.getAttribute('data-time');
        const timeSpan = content.querySelector('.notify-time');
        if (timeString && timeSpan) {
          timeSpan.textContent = timeAgo(timeString);
        }
      });

      // Thông báo khi click chuông
      const notificationIcon = document.querySelector('.notification');
      const notificationBox = document.querySelector('.notification-box');
      const badge = document.querySelector('.badge');

      if (notificationIcon && notificationBox) {
        notificationIcon.addEventListener('click', function (e) {
          e.preventDefault();
          e.stopPropagation();
          notificationBox.classList.toggle('hidden');
          if (badge) badge.innerText = '0';
        });

        // Click bên ngoài thì ẩn thông báo
        document.addEventListener('click', function (e) {
          const clickedOutside = !notificationBox.contains(e.target) && !notificationIcon.contains(e.target);
          if (clickedOutside) {
            notificationBox.classList.add('hidden');
          }
        });
      }
    }

    // Chờ header load xong rồi khởi tạo các chức năng
    document.addEventListener('DOMContentLoaded', function () {
      // Đợi một chút để header load xong
      setTimeout(initHeaderFunctions, 100);
    });
  </script>
</body>

</html>