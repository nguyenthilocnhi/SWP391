<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <title>Theo d√µi chu k·ª≥</title>
    <link rel="stylesheet" href="/Frontend/assets/css/theodoichuky.css" />
</head>

<body>

    <!-- G·ªçi file header v√† kh·ªüi ƒë·ªông JS sau khi ch√®n xong -->
    <!-- G·ªåI HEADER -->
    <div id="header-placeholder"></div>
    <script>
        fetch('/Frontend/components/header_customer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById("header-placeholder").innerHTML = data;

                // G·ªçi l·∫°i h√†m JS x·ª≠ l√Ω header sau khi DOM ƒë√£ c√≥ ph·∫ßn header
                if (typeof initHeader === 'function') {
                    initHeader();
                }
            });
    </script>
    <script src="/Frontend/assets/js/header_customer.js"></script>

    <!-- t·∫°o 1 nh√£n th√¥ng b√°o -->
    <div id="alert-box" class="alert-box hidden">
        <p id="alert-message">B·∫°n c√≥ th√¥ng b√°o m·ªõi!</p>
        <span id="alert-close">&times;</span>
    </div>

    <main class="content">
        <section id="period-input-section" class="main-section">
            <!-- X√ìA PH·∫¶N GHI NH·∫¨N K·ª≤ KINH NGUY·ªÜT -->
        </section>

        <section id="mood-section" class="main-section">
            <h2>T√¢m tr·∫°ng h√¥m nay</h2>
            <div id="mood-selector">
                <span class="mood-icon" data-mood="R·∫•t h·∫°nh ph√∫c" title="R·∫•t h·∫°nh ph√∫c">üòÑ</span>
                <span class="mood-icon" data-mood="H·∫°nh ph√∫c" title="H·∫°nh ph√∫c">üòä</span>
                <span class="mood-icon" data-mood="B√¨nh th∆∞·ªùng" title="B√¨nh th∆∞·ªùng">üòê</span>
                <span class="mood-icon" data-mood="Kh√¥ng vui" title="Kh√¥ng vui">üòï</span>
                <span class="mood-icon" data-mood="Phi·ªÅn mu·ªôn" title="Phi·ªÅn mu·ªôn">üò¢</span>
            </div>
            <p>T√¢m tr·∫°ng b·∫°n ch·ªçn: <span id="selected-mood">Ch∆∞a ch·ªçn</span></p>
        </section>

        <section id="reminder-section" class="main-section">
            <h2>Nh·∫Øc nh·ªü c√° nh√¢n h√≥a</h2>
            <div id="reminderMessages">
                <!-- N·ªôi dung nh·∫Øc nh·ªü s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t -->
            </div>
        </section>

        <section id="cycle-section" class="main-section">
            <h1>THEO D√ïI CHU K·ª≤ KINH NGUY·ªÜT</h1>
            <div class="calendar-controls">
                <button id="prevMainMonth">‚ùÆ Th√°ng tr∆∞·ªõc</button>
                <h2 id="mainMonthYear"></h2>
                <button id="nextMainMonth">Th√°ng sau ‚ùØ</button>
            </div>
            <div id="mainCalendar" class="calendar"></div>

            <div class="legend">
                <span class="period">Ng√†y h√†nh kinh</span>
                <span class="fertile">D·ªÖ th·ª• thai</span>
                <span class="ovulation">R·ª•ng tr·ª©ng</span>
                <span class="safe">An to√†n</span>
            </div>

            <h2>Th·ªëng k√™ Chu K·ª≥</h2>
            <div id="cycle-warning" class="warning-text"></div>
            <canvas id="cycleChart" height="180" style="width:100%;max-width:600px;height:180px;display:block;margin:0 auto;"></canvas>

            <section class="settings-section">
                <h2 style="margin-bottom: 10px;">C√†i ƒë·∫∑t chu k·ª≥ c·ªßa b·∫°n</h2>
                <div class="settings-card">
                    <div class="settings-row">
                        <label for="period-length">
                            ƒê·ªô d√†i k·ª≥ kinh:
                        </label>
                        <input type="number" id="period-length" value="5" min="1" max="15">
                        <span class="unit">ng√†y</span>
                    </div>
                    <div class="settings-row">
                        <label for="cycle-length">
                            ƒê·ªô d√†i chu k·ª≥:
                        </label>
                        <input type="number" id="cycle-length" value="28" min="20" max="45">
                        <span class="unit">ng√†y</span>
                    </div>
                    <button id="apply-settings" class="settings-btn">√Åp d·ª•ng</button>
                </div>
                <div class="settings-desc">
                    <small>B·∫°n c√≥ th·ªÉ ƒëi·ªÅu ch·ªânh th√¥ng s·ªë n√†y b·∫•t c·ª© l√∫c n√†o ƒë·ªÉ ph√π h·ª£p v·ªõi c∆° th·ªÉ c·ªßa m√¨nh.</small>
                </div>
            </section>

        </section>

        <section id="suggest-section" class="main-section suggest-highlight">
            <h2>G·ª£i √Ω s·∫£n ph·∫©m & dinh d∆∞·ª°ng theo chu k·ª≥</h2>
            <ul id="suggestionsList">
                <!-- G·ª£i √Ω s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t -->
            </ul>
        </section>

        <section id="symptom-section" class="main-section">
            <h2>Tri·ªáu ch·ª©ng s·ª©c kh·ªèe ph·ª• khoa</h2>
            <p>Ch·ªçn c√°c tri·ªáu ch·ª©ng b·∫°n g·∫∑p ph·∫£i h√¥m nay:</p>
            <div id="symptom-list">
                <div class="symptom-group">
                    <div class="symptom-title">ü©∫ 1. Tri·ªáu ch·ª©ng th·ªÉ ch·∫•t</div>
                    <div class="symptom-list-grid">
                        <label><input type="checkbox" value="ƒêau b·ª•ng d∆∞·ªõi"> ƒêau b·ª•ng d∆∞·ªõi</label>
                        <label><input type="checkbox" value="ƒêau l∆∞ng"> ƒêau l∆∞ng</label>
                        <label><input type="checkbox" value="ƒêau ƒë·∫ßu ho·∫∑c ƒëau n·ª≠a ƒë·∫ßu"> ƒêau ƒë·∫ßu ho·∫∑c ƒëau n·ª≠a ƒë·∫ßu</label>
                        <label><input type="checkbox" value="M·ªát m·ªèi"> M·ªát m·ªèi</label>
                        <label><input type="checkbox" value="Ch√≥ng m·∫∑t"> Ch√≥ng m·∫∑t</label>
                        <label><input type="checkbox" value="ƒêau ng·ª±c ho·∫∑c ng·ª±c cƒÉng t·ª©c"> ƒêau ng·ª±c ho·∫∑c ng·ª±c cƒÉng t·ª©c</label>
                        <label><input type="checkbox" value="Bu·ªìn n√¥n"> Bu·ªìn n√¥n</label>
                        <label><input type="checkbox" value="Kh√≥ ng·ªß"> Kh√≥ ng·ªß</label>
                        <label><input type="checkbox" value="ƒêau c∆° nh·∫π"> ƒêau c∆° nh·∫π</label>
                    </div>
                </div>
                <div class="symptom-group">
                    <div class="symptom-title">üíÜ‚Äç‚ôÄÔ∏è 3. Tri·ªáu ch·ª©ng li√™n quan ƒë·∫øn da v√† c∆° th·ªÉ</div>
                    <div class="symptom-list-grid">
                        <label><input type="checkbox" value="M·ª•n n·ªïi nhi·ªÅu"> M·ª•n n·ªïi nhi·ªÅu</label>
                        <label><input type="checkbox" value="CƒÉng ng·ª±c"> CƒÉng ng·ª±c</label>
                        <label><input type="checkbox" value="TƒÉng c√¢n nh·∫π (do gi·ªØ n∆∞·ªõc)"> TƒÉng c√¢n nh·∫π (do gi·ªØ n∆∞·ªõc)</label>
                        <label><input type="checkbox" value="Ph√π nh·∫π (m·∫∑t, tay ch√¢n)"> Ph√π nh·∫π (m·∫∑t, tay ch√¢n)</label>
                    </div>
                </div>
                <div class="symptom-group">
                    <div class="symptom-title">üçΩÔ∏è 4. Tri·ªáu ch·ª©ng ti√™u h√≥a & ƒÉn u·ªëng</div>
                    <div class="symptom-list-grid">
                        <label><input type="checkbox" value="ƒê·∫ßy b·ª•ng, ch∆∞·ªõng b·ª•ng"> ƒê·∫ßy b·ª•ng, ch∆∞·ªõng b·ª•ng</label>
                        <label><input type="checkbox" value="T√°o b√≥n"> T√°o b√≥n</label>
                        <label><input type="checkbox" value="Ti√™u ch·∫£y"> Ti√™u ch·∫£y</label>
                        <label><input type="checkbox" value="Th√®m ƒÉn (ƒë·∫∑c bi·ªát ƒë·ªì ng·ªçt, m·∫∑n)"> Th√®m ƒÉn (ƒë·∫∑c bi·ªát ƒë·ªì ng·ªçt, m·∫∑n)</label>
                        <label><input type="checkbox" value="Ch√°n ƒÉn"> Ch√°n ƒÉn</label>
                    </div>
                </div>
                <div class="symptom-group">
                    <div class="symptom-title">üî• 5. Tri·ªáu ch·ª©ng r·ª•ng tr·ª©ng ƒë·∫∑c tr∆∞ng</div>
                    <div class="symptom-list-grid">
                        <label><input type="checkbox" value="ƒêau b·ª•ng nh·∫π m·ªôt b√™n"> ƒêau b·ª•ng nh·∫π m·ªôt b√™n</label>
                        <label><input type="checkbox" value="TƒÉng ti·∫øt d·ªãch √¢m ƒë·∫°o"> TƒÉng ti·∫øt d·ªãch √¢m ƒë·∫°o</label>
                        <label><input type="checkbox" value="C·∫£m gi√°c ƒë·∫ßy b·ª•ng nh·∫π"> C·∫£m gi√°c ƒë·∫ßy b·ª•ng nh·∫π</label>
                    </div>
                </div>
            </div>
            <button id="saveSymptomsBtn">L∆∞u tri·ªáu ch·ª©ng</button>
            <div id="healthAlert" class="health-alert" style="display:none;">
                <p id="alertMessage"></p>
            </div>
        </section>

        <section id="stats-section" class="main-section">
            <h2>Th·ªëng k√™ xu h∆∞·ªõng tri·ªáu ch·ª©ng</h2>
            <canvas id="symptomChart" height="180" style="width:100%;max-width:600px;height:180px;display:block;margin:0 auto;"></canvas>
        </section>

        <section id="partner-link-section" class="main-section">
            <h2>Li√™n k·∫øt b·∫°n ƒë·ªùi</h2>
            <p>Chia s·∫ª th√¥ng tin chu k·ª≥ v√† nh·∫Øc nh·ªü v·ªõi b·∫°n ƒë·ªùi ƒë·ªÉ c√πng quan t√¢m s·ª©c kh·ªèe.</p>
            <button id="sendPartnerInviteBtn" style="background:#10b981;color:#fff;padding:10px 24px;border:none;border-radius:8px;font-size:1.08em;cursor:pointer;font-weight:600;">G·ª≠i l·ªùi m·ªùi li√™n k·∫øt</button>
        </section>

    </main>

    <!-- g·ªçi footer -->
    <div id="footer-placeholder"></div>
    <script>
        fetch('/Frontend/components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById("footer-placeholder").innerHTML = data;
            });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/Frontend/assets/js/theodoichuky.js"></script>
</body>

</html>