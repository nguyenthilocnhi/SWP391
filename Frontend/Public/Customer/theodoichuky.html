<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <title>Theo d√µi chu k·ª≥</title>
    <link rel="stylesheet" href="/Frontend/assets/css/theodoichuky.css" />
</head>

<body>

    <!-- G·ªçi file header v√† kh·ªüi ƒë·ªông JS sau khi ch√®n xong -->
    <!-- G·ªåI HEADER -->
    <div id="header-placeholder"></div>
    <script>
        fetch('/Frontend/components/header_customer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById("header-placeholder").innerHTML = data;

                // G·ªçi l·∫°i h√†m JS x·ª≠ l√Ω header sau khi DOM ƒë√£ c√≥ ph·∫ßn header
                if (typeof initHeader === 'function') {
                    initHeader();
                }
            });
    </script>
    <script src="/Frontend/assets/js/header_customer.js"></script>

    <!-- t·∫°o 1 nh√£n th√¥ng b√°o -->
    <div id="alert-box" class="alert-box hidden">
        <p id="alert-message">B·∫°n c√≥ th√¥ng b√°o m·ªõi!</p>
        <span id="alert-close">&times;</span>
    </div>

    <main class="content">
        <section id="period-input-section" class="main-section">
            <!-- X√ìA PH·∫¶N GHI NH·∫¨N K·ª≤ KINH NGUY·ªÜT -->
        </section>

        <section id="mood-section" class="main-section">
            <h2>T√¢m tr·∫°ng h√¥m nay (<span id="today-date"></span>)</h2>
            <div id="mood-selector">
                <span class="mood-icon" data-mood="R·∫•t h·∫°nh ph√∫c" title="R·∫•t h·∫°nh ph√∫c">üòÑ</span>
                <span class="mood-icon" data-mood="H·∫°nh ph√∫c" title="H·∫°nh ph√∫c">üòä</span>
                <span class="mood-icon" data-mood="B√¨nh th∆∞·ªùng" title="B√¨nh th∆∞·ªùng">üòê</span>
                <span class="mood-icon" data-mood="Kh√¥ng vui" title="Kh√¥ng vui">üòï</span>
                <span class="mood-icon" data-mood="Phi·ªÅn mu·ªôn" title="Phi·ªÅn mu·ªôn">üò¢</span>
            </div>
            <p>T√¢m tr·∫°ng b·∫°n ch·ªçn: <span id="selected-mood">Ch∆∞a ch·ªçn</span></p>
        </section>

        <section id="reminder-section" class="main-section">
            <h2>Nh·∫Øc nh·ªü c√° nh√¢n h√≥a</h2>
            <div id="reminderMessages">
                <!-- N·ªôi dung nh·∫Øc nh·ªü s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t -->
            </div>
        </section>

        <section id="cycle-section" class="main-section">
            <h1>THEO D√ïI CHU K·ª≤ KINH NGUY·ªÜT</h1>
            <div class="calendar-controls">
                <button id="prevMainMonth">‚ùÆ Th√°ng tr∆∞·ªõc</button>
                <h2 id="mainMonthYear"></h2>
                <button id="nextMainMonth">Th√°ng sau ‚ùØ</button>
            </div>
            <div id="mainCalendar" class="calendar"></div>

            <div class="legend">
                <h3>Ch√∫ th√≠ch m√†u s·∫Øc:</h3>
                <span class="period">Ng√†y h√†nh kinh</span>
                <span class="fertile-predict">D·ªÖ th·ª• thai</span>
                <span class="ovulation-predict">R·ª•ng tr·ª©ng</span>
                <span class="safe-predict">An to√†n</span>
            </div>

            <h2>Th·ªëng k√™ Chu K·ª≥</h2>
            <div id="cycle-warning" class="warning-text"></div>
            <canvas id="cycleChart" height="180" style="width:100%;max-width:600px;height:180px;display:block;margin:0 auto;"></canvas>

            <section class="settings-section">
                <h2 style="margin-bottom: 10px;">C√†i ƒë·∫∑t chu k·ª≥ c·ªßa b·∫°n</h2>
                <div class="settings-card">
                    <div class="settings-row">
                        <label for="period-length">
                            ƒê·ªô d√†i k·ª≥ kinh:
                        </label>
                        <input type="number" id="period-length" value="5" min="1" max="15" title="S·ªë ng√†y h√†nh kinh trong m·ªôt chu k·ª≥">
                        <span class="unit">ng√†y</span>
                    </div>
                    <div class="settings-row">
                        <label for="cycle-length">
                            ƒê·ªô d√†i chu k·ª≥:
                        </label>
                        <input type="number" id="cycle-length" value="28" min="20" max="45" title="S·ªë ng√†y t·ª´ ƒë·∫ßu k·ª≥ kinh n√†y ƒë·∫øn ƒë·∫ßu k·ª≥ kinh ti·∫øp theo">
                        <span class="unit">ng√†y</span>
                    </div>
                    <button id="apply-settings" class="settings-btn">√Åp d·ª•ng</button>
                </div>
                <div class="settings-desc">
                    <small>B·∫°n c√≥ th·ªÉ ƒëi·ªÅu ch·ªânh th√¥ng s·ªë n√†y b·∫•t c·ª© l√∫c n√†o ƒë·ªÉ ph√π h·ª£p v·ªõi c∆° th·ªÉ c·ªßa m√¨nh.</small>
                </div>
            </section>

        </section>



    </main>

    <!-- g·ªçi footer -->
    <div id="footer-placeholder"></div>
    <script>
        fetch('/Frontend/components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById("footer-placeholder").innerHTML = data;
            });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/Frontend/assets/js/theodoichuky.js"></script>
</body>

</html>