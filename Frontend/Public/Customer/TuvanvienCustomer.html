<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Danh s√°ch T∆∞ v·∫•n vi√™n | An Gi·ªõi</title>
  <link rel="stylesheet" href="/Frontend/assets/css/TuvanvienCustomer.css" />
</head>

<body>

<!-- G·ªçi file header v√† kh·ªüi ƒë·ªông JS sau khi ch√®n xong -->
<!-- G·ªåI HEADER -->
<div id="header-placeholder"></div>
<script>
  fetch('/Frontend/components/header_customer.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById("header-placeholder").innerHTML = data;

      // G·ªçi l·∫°i h√†m JS x·ª≠ l√Ω header sau khi DOM ƒë√£ c√≥ ph·∫ßn header
      if (typeof initHeader === 'function') {
        initHeader();
      }
    });
</script>
<script src="/Frontend/assets/js/header_customer.js"></script>

<!-- t·∫°o 1 nh√£n th√¥ng b√°o -->
<div id="alert-box" class="alert-box hidden">
  <p id="alert-message">B·∫°n c√≥ th√¥ng b√°o m·ªõi!</p>
  <span id="alert-close">&times;</span>
</div>


  <main class="container">
    <h2 class="section-title">ƒê·ªòI NG≈® T∆Ø V·∫§N VI√äN</h2>
    <div class="advisor-grid" id="advisorGrid"></div>
  </main>

  <script>
    fetch('/Frontend/assets/data/tuvanvien.json') // ƒë∆∞·ªùng d·∫´n JSON
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('advisorGrid');
        data.forEach(advisor => {
          const card = document.createElement('div');
          card.className = 'advisor-card';
          
          // T·∫°o link ƒë·∫øn trang chi ti·∫øt d·ª±a tr√™n ID
          let detailLink = `/Frontend/Public/Guest/ChiTiet_${advisor.id}.html`;
          
          card.innerHTML = `
          <a href="${detailLink}" class="advisor-link">
            <img src="${advisor.image}" alt="${advisor.name}" />
            <h3>${advisor.name}</h3>
            <p>${advisor.specialty}</p>
            <p><strong>Kinh nghi·ªám:</strong> ${advisor.experience}</p>
            <p>${advisor.education}</p>
          </a>
        `;
          container.appendChild(card);
        });
      })
      .catch(error => console.error('L·ªói load d·ªØ li·ªáu:', error));
  </script>

</body>

<div id="footer-placeholder"></div>
<script>
  fetch('/Frontend/components/footer.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById("footer-placeholder").innerHTML = data;
    });
</script>
<!-- nh√£n th√¥ng b√°o -->
<script>
  function showAlert(message) {
    const alertBox = document.getElementById('alert-box');
    const alertMessage = document.getElementById('alert-message');
    const alertClose = document.getElementById('alert-close');

    alertMessage.textContent = message;
    alertBox.classList.remove('hidden');

    // T·ª± ƒë·ªông ·∫©n sau 5 gi√¢y
    setTimeout(() => {
      alertBox.classList.add('hidden');
    }, 10000);

    // ·∫®n khi click v√†o n√∫t ƒë√≥ng
    alertClose.addEventListener('click', () => {
      alertBox.classList.add('hidden');
    });
  }

  // V√≠ d·ª•: g·ªçi th√¥ng b√°o m·ªõi
  document.addEventListener("DOMContentLoaded", function () {
    // Gi·∫£ l·∫≠p c√≥ th√¥ng b√°o m·ªõi
    setTimeout(() => {
      showAlert("üîî B·∫°n c√≥ 3 th√¥ng b√°o m·ªõi!");
    }, 1000); // sau 1 gi√¢y khi v√†o trang
  });
</script>


<!-- cho menu user x·ªï xu·ªëng -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const dropdownToggle = document.querySelector('.user-dropdown');
    const userMenu = document.querySelector('.user-menu');

    if (dropdownToggle && userMenu) {
      dropdownToggle.addEventListener('click', function (e) {
        e.stopPropagation();
        userMenu.classList.toggle('hidden');
      });

      // Click ngo√†i th√¨ ·∫©n menu
      document.addEventListener('click', function (e) {
        if (!userMenu.contains(e.target) && !dropdownToggle.contains(e.target)) {
          userMenu.classList.add('hidden');
        }
      });
    }
  });
</script>


<!-- JavaScript c·∫≠p nh·∫≠t th·ªùi gian "X ph√∫t tr∆∞·ªõc" t·ª± ƒë·ªông -->
<script>
  function timeAgo(dateString) {
    const now = new Date();
    const date = new Date(dateString);
    const seconds = Math.floor((now - date) / 1000);

    const intervals = [
      { label: 'nƒÉm', seconds: 31536000 },
      { label: 'th√°ng', seconds: 2592000 },
      { label: 'ng√†y', seconds: 86400 },
      { label: 'gi·ªù', seconds: 3600 },
      { label: 'ph√∫t', seconds: 60 },
      { label: 'gi√¢y', seconds: 1 },
    ];

    for (const interval of intervals) {
      const count = Math.floor(seconds / interval.seconds);
      if (count >= 1) {
        return `${count} ${interval.label} tr∆∞·ªõc`;
      }
    }
    return 'V·ª´a xong';
  }

  document.addEventListener("DOMContentLoaded", function () {
    const notifications = document.querySelectorAll('.notify-content');

    notifications.forEach(content => {
      const timeString = content.getAttribute('data-time');
      const timeSpan = content.querySelector('.notify-time');

      if (timeString && timeSpan) {
        timeSpan.textContent = timeAgo(timeString);
      }
    });
  });
</script>


<!-- g·ªçi th√¥ng b√°o -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const notificationIcon = document.querySelector('.notification');
    const notificationBox = document.querySelector('.notification-box');
    const badge = document.querySelector('.badge');

    if (notificationIcon && notificationBox) {
      // Toggle hi·ªÉn th·ªã th√¥ng b√°o khi click chu√¥ng
      notificationIcon.addEventListener('click', function (e) {
        e.preventDefault();
        e.stopPropagation(); // NgƒÉn lan s·ª± ki·ªán click ra ngo√†i
        notificationBox.classList.toggle('hidden');

        // Tu·ª≥ ch·ªçn: reset badge n·∫øu c·∫ßn
        badge.innerText = '0';
      });

      // Click b√™n ngo√†i th√¨ ·∫©n menu
      document.addEventListener('click', function (e) {
        const clickedOutside = !notificationBox.contains(e.target) && !notificationIcon.contains(e.target);
        if (clickedOutside) {
          notificationBox.classList.add('hidden');
        }
      });
    }
  });
</script>



</html>