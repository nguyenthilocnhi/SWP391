<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trung T√¢m S·ª©c Kh·ªèe An Gi·ªõi</title>
  <link rel="stylesheet" href="/Frontend/assets/css/TrangchuCustomer.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    .apply-voucher-btn {
      background-color: #005baa;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 15px;
      transition: background-color 0.3s;
    }

    .apply-voucher-btn:hover {
      background-color: #004080;
    }

    .apply-voucher-btn.applied {
      background-color: #28a745;
      cursor: not-allowed;
    }

    .apply-voucher-btn.applied:hover {
      background-color: #28a745;
    }

    .cancel-voucher-btn {
      background-color: #dc3545;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      margin-left: 10px;
      transition: background-color 0.3s;
    }

    .cancel-voucher-btn:hover {
      background-color: #c82333;
    }

    .voucher-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #28a745;
      color: white;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }

    .voucher-notification.show {
      transform: translateX(0);
    }

    .active-voucher-display {
      background-color: #e8f5e8;
      border: 2px solid #28a745;
      border-radius: 8px;
      padding: 15px 20px;
      margin: 20px auto;
      max-width: 800px;
      text-align: center;
    }

    .voucher-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    .voucher-text {
      flex: 1;
      text-align: left;
    }

    .voucher-info span {
      font-weight: bold;
      color: #28a745;
      font-size: 16px;
    }

    @media (max-width: 600px) {
      .voucher-info {
        flex-direction: column;
        text-align: center;
      }
    }

    .voucher-alert-box {
      position: fixed;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #28a745;
      color: #fff;
      padding: 16px 32px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      z-index: 2000;
      font-size: 16px;
      min-width: 320px;
      max-width: 90vw;
      justify-content: center;
      gap: 10px;
    }
    .voucher-alert-box.hidden {
      display: none;
    }
    .voucher-alert-icon {
      font-size: 22px;
      margin-right: 8px;
    }
    .voucher-alert-close {
      margin-left: 16px;
      cursor: pointer;
      font-size: 22px;
      font-weight: bold;
    }
  </style>
</head>

<body>

  <!-- G·ªçi file header v√† kh·ªüi ƒë·ªông JS sau khi ch√®n xong -->
  <!-- G·ªåI HEADER -->
  <div id="header-placeholder"></div>
  <script>
    fetch('/Frontend/components/header_customer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById("header-placeholder").innerHTML = data;

        // G·ªçi l·∫°i h√†m JS x·ª≠ l√Ω header sau khi DOM ƒë√£ c√≥ ph·∫ßn header
        if (typeof initHeader === 'function') {
          initHeader();
        }
      });
  </script>
  <script src="/Frontend/assets/js/header_customer.js"></script>

  <!-- t·∫°o 1 nh√£n th√¥ng b√°o -->
  <div id="alert-box" class="alert-box hidden">
    <p id="alert-message">B·∫°n c√≥ th√¥ng b√°o m·ªõi!</p>
    <span id="alert-close">&times;</span>
  </div>

  <!-- Th√¥ng b√°o voucher ki·ªÉu alert-box -->
  <div id="voucher-alert-box" class="voucher-alert-box hidden">
    <span class="voucher-alert-icon">üîî</span>
    <span id="voucher-alert-message">Voucher ƒë√£ ƒë∆∞·ª£c √°p d·ª•ng!</span>
    <span id="voucher-alert-close" class="voucher-alert-close">&times;</span>
  </div>

  <!-- Hi·ªÉn th·ªã voucher ƒëang √°p d·ª•ng -->
  <div id="active-voucher-display" class="active-voucher-display" style="display: none;">
    <div class="voucher-info">
      <div class="voucher-text">
        <span id="active-voucher-text">Voucher ƒëang √°p d·ª•ng: </span>
        <small style="color: #666; display: block; margin-top: 5px;">üí° Ch·ªâ c√≥ th·ªÉ √°p d·ª•ng 1 voucher t·∫°i m·ªôt th·ªùi ƒëi·ªÉm</small>
      </div>
      <button id="remove-active-voucher" class="cancel-voucher-btn">H·ªßy voucher</button>
    </div>
  </div>

  <section class="hero">
    <img src="https://i.postimg.cc/x1V5ncWS/nh-n-n.png" alt="·∫¢nh n·ªÅn">
  </section>

  <main class="container">
    <section class="statistic-section">
      <div class="statistic-box">
        <div class="stat-item">
          <img src="https://i.postimg.cc/vZkwh7jd/labs-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="x√©t nghi·ªám" />
          <div>
            <h3>5.000+</h3>
            <p>L∆∞·ª£t x√©t nghi·ªám</p>
          </div>
        </div>
        <div class="stat-item">
          <img src="https://i.postimg.cc/8zFq7JCX/sentiment-satisfied-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="
            ƒë·ªô h√†i l√≤ng" />
          <div>
            <h3>99.8%</h3>
            <p>M·ª©c ƒë·ªô h√†i l√≤ng</p>
          </div>
        </div>

        <div class="stat-item">
          <img src="https://i.postimg.cc/8CvQ0JQf/support-agent-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="t∆∞ v·∫•n" />
          <div>
            <h3>4.000+</h3>
            <p>L∆∞·ª£t t∆∞ v·∫•n</p>
          </div>
        </div>

        <div class="stat-item">
          <img src="https://i.postimg.cc/QtkLj2MX/groups-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="s·ªë kh√°ch h√†ng" />
          <div>
            <h3>10.000+</h3>
            <p>S·ªë l∆∞·ª£ng kh√°ch h√†ng/nƒÉm</p>
          </div>
        </div>
      </div>
    </section>

    <section class="Angioi-services">
      <div class="services-content">
        <h2>D·ªãch v·ª• y t·∫ø c·ªßa AN GI·ªöI</h2>

        <div class="service-item">
          <img src="https://i.postimg.cc/vZkwh7jd/labs-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="icon x√©t nghi·ªám">
          <div>
            <h3>X√©t nghi·ªám</h3>
            <p>ƒêa d·∫°ng danh m·ª•c x√©t nghi·ªám ƒë·∫£m b·∫£o k·∫øt qu·∫£ ch√≠nh x√°c v√† nhanh ch√≥ng</p>
          </div>
        </div>

        <div class="service-item">
          <img src="https://i.postimg.cc/8CvQ0JQf/support-agent-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="icon t∆∞ v·∫•n">
          <div>
            <h3>T∆∞ v·∫•n</h3>
            <p>T∆∞ v·∫•n c√° nh√¢n h√≥a ƒë·∫£m b·∫£o s·ª± ri√™ng t∆∞ cho kh√°ch h√†ng</p>
          </div>
        </div>

        <div class="service-item">
          <img src="https://i.postimg.cc/zX4xPdJp/menstrual-health-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="icon chu k√¨">
          <div>
            <h3>Theo d√µi chu k√¨</h3>
            <p>N·∫Øm b·∫Øt thay ƒë·ªïi nh·ªØng ng√†y m√† c∆° th·ªÉ nh·∫°y c·∫£m</p>
          </div>
        </div>

        <div class="service-item">
          <img src="https://i.postimg.cc/XvbQnpBC/pill-100dp-1-F1-F1-F-FILL0-wght400-GRAD0-opsz48.png"
            alt="icon u·ªëng thu·ªëc">
          <div>
            <h3>Nh·∫Øc nh·ªü u·ªëng thu·ªëc tr√°nh thai</h3>
            <p>Mang l·∫°i h·∫°nh ph√∫c cho nhi·ªÅu ng∆∞·ªùi</p>
          </div>
        </div>
      </div>

      <div class="services-image">
        <img src="https://i.postimg.cc/4yrDJXTF/Screenshot-2025-06-17-013039.png" alt="b√°c sƒ© v√† b·ªánh nh√¢n">
      </div>
    </section>


    <section class="offer-section">
      <h2>∆Øu ƒë√£i ƒë·∫∑c bi·ªát</h2>

      <div class="accordion-container">
        <!-- ∆Øu ƒë√£i 1 -->
        <div class="accordion-item">
          <div class="accordion-header">
            <h4>üéÅ Gi·∫£m 10% - T∆∞ v·∫•n s·ª©c kh·ªèe v·ªã th√†nh ni√™n</h4>
            <button class="toggle-btn">Xem ∆∞u ƒë√£i</button>
          </div>
          <div class="accordion-content">
            <ul>
              <li><strong>Th·ªùi gian √°p d·ª•ng:</strong> 01/07/2025 - 31/07/2025</li>
              <li><strong>ƒê·ªëi t∆∞·ª£ng:</strong> Kh√°ch h√†ng t·ª´ 13 ƒë·∫øn 19 tu·ªïi</li>
              <li><strong>D·ªãch v·ª• √°p d·ª•ng:</strong> T∆∞ v·∫•n t√¢m l√Ω, gi·ªõi t√≠nh, s·ª©c kh·ªèe d·∫≠y th√¨</li>
              <li><strong>C√°ch s·ª≠ d·ª•ng:</strong> T·ª± ƒë·ªông √°p d·ª•ng khi ƒë·∫∑t l·ªãch</li>
              <li><strong>L∆∞u √Ω:</strong> Kh√¥ng c·ªông d·ªìn v·ªõi c√°c khuy·∫øn m√£i kh√°c</li>
            </ul>
            <small style="color: #666; display: block; margin-bottom: 10px;">‚ö†Ô∏è Ch·ªâ c√≥ th·ªÉ √°p d·ª•ng 1 voucher t·∫°i m·ªôt th·ªùi ƒëi·ªÉm</small>
            <button class="apply-voucher-btn" data-voucher="TU_VAN_VI_THANH_NIEN_10" data-discount="10" data-type="percent">√Åp d·ª•ng voucher</button>
          </div>
        </div>

        <!-- ∆Øu ƒë√£i 2 -->
        <div class="accordion-item">
          <div class="accordion-header">
            <h4>üí∞ Gi·∫£m 100.000VND - T∆∞ v·∫•n s·ª©c kh·ªèe sinh s·∫£n</h4>
            <button class="toggle-btn">Xem ∆∞u ƒë√£i</button>
          </div>
          <div class="accordion-content">
            <ul>
              <li><strong>Th·ªùi gian √°p d·ª•ng:</strong> 01/07/2025 - 31/08/2025</li>
              <li><strong>√Åp d·ª•ng:</strong> Cho kh√°ch h√†ng n·ªØ t·ª´ 18 tu·ªïi tr·ªü l√™n</li>
              <li><strong>D·ªãch v·ª• √°p d·ª•ng:</strong> T∆∞ v·∫•n s·ª©c kh·ªèe sinh s·∫£n, ti·ªÅn h√¥n nh√¢n</li>
            </ul>
            <small style="color: #666; display: block; margin-bottom: 10px;">‚ö†Ô∏è Ch·ªâ c√≥ th·ªÉ √°p d·ª•ng 1 voucher t·∫°i m·ªôt th·ªùi ƒëi·ªÉm</small>
            <button class="apply-voucher-btn" data-voucher="TU_VAN_SINH_SAN_100K" data-discount="100000" data-type="fixed">√Åp d·ª•ng voucher</button>
          </div>
        </div>

        <!-- ∆Øu ƒë√£i 3 -->
        <div class="accordion-item">
          <div class="accordion-header">
            <h4>üß™ Gi·∫£m 20% - X√©t nghi·ªám Giang Mai</h4>
            <button class="toggle-btn">Xem ∆∞u ƒë√£i</button>
          </div>
          <div class="accordion-content">
            <ul>
              <li><strong>Th·ªùi gian √°p d·ª•ng:</strong> 01/07 - 31/07/2025</li>
              <li><strong>√Åp d·ª•ng:</strong> Cho x√©t nghi·ªám Giang Mai l·∫ßn ƒë·∫ßu ti√™n</li>
              <li><strong>L∆∞u √Ω:</strong> Kh√¥ng √°p d·ª•ng cho kh√°ch c√≥ m√£ gi·∫£m gi√° kh√°c</li>
            </ul>
            <small style="color: #666; display: block; margin-bottom: 10px;">‚ö†Ô∏è Ch·ªâ c√≥ th·ªÉ √°p d·ª•ng 1 voucher t·∫°i m·ªôt th·ªùi ƒëi·ªÉm</small>
            <button class="apply-voucher-btn" data-voucher="GIANG_MAI_20" data-discount="20" data-type="percent">√Åp d·ª•ng voucher</button>
          </div>
        </div>

        <!-- ∆Øu ƒë√£i 4 -->
        <div class="accordion-item">
          <div class="accordion-header">
            <h4>üéâ Gi·∫£m 50.000VND - D√†nh cho kh√°ch l·∫ßn ƒë·∫ßu</h4>
            <button class="toggle-btn">Xem ∆∞u ƒë√£i</button>
          </div>
          <div class="accordion-content">
            <ul>
              <li><strong>√Åp d·ª•ng:</strong> Cho t·∫•t c·∫£ d·ªãch v·ª• l·∫ßn ƒë·∫ßu ƒë·∫∑t l·ªãch</li>
              <li><strong>Th·ªùi h·∫°n:</strong> Kh√¥ng gi·ªõi h·∫°n ƒë·∫øn khi c√≥ th√¥ng b√°o m·ªõi</li>
            </ul>
            <small style="color: #666; display: block; margin-bottom: 10px;">‚ö†Ô∏è Ch·ªâ c√≥ th·ªÉ √°p d·ª•ng 1 voucher t·∫°i m·ªôt th·ªùi ƒëi·ªÉm</small>
            <button class="apply-voucher-btn" data-voucher="KHACH_LAN_DAU_50K" data-discount="50000" data-type="fixed">√Åp d·ª•ng voucher</button>
          </div>
        </div>
      </div>
    </section>




    <section class="section testimonials">
      <h2>C·∫£m nh·∫≠n t·ª´ kh√°ch h√†ng</h2>
      <blockquote>"T√¥i r·∫•t h√†i l√≤ng v·ªõi d·ªãch v·ª• v√† s·ª± nhi·ªát t√¨nh c·ªßa ƒë·ªôi ng≈© An Gi·ªõi..." ‚Äì Ch·ªã Ph∆∞∆°ng, Qu·∫≠n 3
      </blockquote>
      <blockquote>"T∆∞ v·∫•n r·∫•t c·ª• th·ªÉ, khoa h·ªçc v√† h·ªØu √≠ch. T√¥i s·∫Ω ti·∫øp t·ª•c s·ª≠ d·ª•ng d·ªãch v·ª• t·∫°i ƒë√¢y." ‚Äì Anh Minh, Qu·∫≠n 5
      </blockquote>
      <blockquote>"Trung t√¢m s·∫°ch s·∫Ω, chuy√™n nghi·ªáp v√† r·∫•t th√¢n thi·ªán. R·∫•t ƒë√°ng tin c·∫≠y!" ‚Äì C√¥ Tr√¢m, TP. Th·ªß ƒê·ª©c
      </blockquote>
    </section>
  </main>
  <section class="faq-container">
    <h2><span class="highlight">C√¢u H·ªèi</span> Th∆∞·ªùng G·∫∑p?</h2>

    <details>
      <summary>C√≥ nh·ªØng d·ªãch v·ª• n√†o t·∫°i An Gi·ªõi</summary>
      <div class="faq-answer">
        T·∫°i An Gi·ªõi b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng d·ªãch v·ª• x√©t nghi·ªám STIs v√† d·ªãch v·ª• t∆∞ v·∫•n s·ª©c kh·ªèe gi·ªõi t√≠nh.
    </details>

    <details>
      <summary>An Gi·ªõi c√≥ l√†m vi·ªác v√†o cu·ªëi tu·∫ßn/ng√†y l·ªÖ</summary>
      <div class="faq-answer">
        Gi·ªù ho·∫°t ƒë·ªông c·ªßa An Gi·ªõi l√† t·ª´ 7:00 s√°ng ƒë·∫øn 17:00 chi·ªÅu. ƒê·ªëi v·ªõi ng√†y l·ªÖ An Gi·ªõi s·∫Ω c√≥ th√¥ng b√°o c·ª• th·ªÉ.
      </div>
    </details>

    <details>
      <summary>L√†m sao ƒë·ªÉ xem ƒë∆∞·ª£c k·∫øt qu·∫£ x√©t nghi·ªám</summary>
      <div class="faq-answer">
        K·∫øt qu·∫£ x√©t nghi·ªám th∆∞·ªùng s·∫Ω c√≥ sau 1 - 3 ng√†y, b·∫°n c√≥ xem ƒë∆∞·ª£c k·∫øt qu·∫£ t·∫°i ph·∫ßn k·∫øt qu·∫£ x√©t nghi·ªám tr√™n h·ªá
        th·ªëng.
      </div>
    </details>
    <p class="more-question">
      Xem th√™m c√°c c√¢u h·ªèi kh√°c <a href="/Frontend/Public/Customer/Cauhoithuonggap_Customer.html">t·∫°i ƒë√¢y</a>
    </p>

  </section>

  <!-- <script src="/Frontend/assets/js/header_customer.js"></script> -->

  <!-- POPUP NH·∫ÆC U·ªêNG THU·ªêC -->
  <div id="dailyPopup" class="popup hidden">
    <div class="popup-content">
      <p>üíä ƒê·ª´ng qu√™n u·ªëng thu·ªëc tr√°nh thai h√¥m nay!</p>
      <button onclick="closePopup()">ƒê√£ hi·ªÉu</button>
    </div>
  </div>
  <!-- nh√£n th√¥ng b√°o -->
  <script>

    const expireAt = localStorage.getItem("sessionExpire");

    if (Date.now() > expireAt) {
      localStorage.removeItem("loggedIn");
      localStorage.removeItem("sessionExpire");
      alert("Phi√™n l√†m vi·ªác ƒë√£ h·∫øt h·∫°n. Vui l√≤ng ƒëƒÉng nh·∫≠p l·∫°i!");
      window.location.href = "/Frontend/Public/Login/Trangdangnhap.html";
    }

    function showAlert(message) {
      const alertBox = document.getElementById('alert-box');
      const alertMessage = document.getElementById('alert-message');
      const alertClose = document.getElementById('alert-close');

      alertMessage.textContent = message;
      alertBox.classList.remove('hidden');

      // T·ª± ƒë·ªông ·∫©n sau 5 gi√¢y
      setTimeout(() => {
        alertBox.classList.add('hidden');
      }, 10000);

      // ·∫®n khi click v√†o n√∫t ƒë√≥ng
      alertClose.addEventListener('click', () => {
        alertBox.classList.add('hidden');
      });
    }

    // H√†m ki·ªÉm tra v√† x√≥a voucher ƒë√£ s·ª≠ d·ª•ng
    function checkAndRemoveUsedVoucher() {
      const activeVoucher = localStorage.getItem('activeVoucher');
      if (activeVoucher) {
        const voucher = JSON.parse(activeVoucher);
        if (voucher.used) {
          // N·∫øu voucher ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng, x√≥a kh·ªèi localStorage
          localStorage.removeItem('activeVoucher');
          console.log('ƒê√£ x√≥a voucher ƒë√£ s·ª≠ d·ª•ng');
        }
      }
    }

    // V√≠ d·ª•: g·ªçi th√¥ng b√°o m·ªõi
    document.addEventListener("DOMContentLoaded", function () {
      // Ki·ªÉm tra v√† x√≥a voucher ƒë√£ s·ª≠ d·ª•ng
      checkAndRemoveUsedVoucher();
      
      // Gi·∫£ l·∫≠p c√≥ th√¥ng b√°o m·ªõi
      setTimeout(() => {
        showAlert("üîî B·∫°n c√≥ 3 th√¥ng b√°o m·ªõi!");
      }, 1000); // sau 1 gi√¢y khi v√†o trang
    });
  </script>

  <script>
    function showDailyPopupIfNeeded() {
      const isLoggedIn = localStorage.getItem("loggedIn") === "true";
      const today = new Date().toISOString().split('T')[0];
      const lastShown = localStorage.getItem("popupShownDate");

      if (isLoggedIn && lastShown !== today) {
        document.getElementById("dailyPopup").classList.remove("hidden");
      }
    }

    function closePopup() {
      const today = new Date().toISOString().split('T')[0];
      localStorage.setItem("popupShownDate", today);
      document.getElementById("dailyPopup").classList.add("hidden");
    }

    document.addEventListener("DOMContentLoaded", showDailyPopupIfNeeded);
    if (localStorage.getItem("loggedIn") === "true") {
      // hi·ªán popup nh·∫Øc u·ªëng thu·ªëc
    }
  </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
  const toggleButtons = document.querySelectorAll('.toggle-btn');
  
  toggleButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const item = btn.closest('.accordion-item');
          const isActive = item.classList.toggle('active');
          btn.textContent = isActive ? 'Thu g·ªçn' : 'Xem ∆∞u ƒë√£i';
        });
  });

  // X·ª≠ l√Ω voucher
  const voucherButtons = document.querySelectorAll('.apply-voucher-btn');
  
  voucherButtons.forEach(btn => {
    btn.addEventListener('click', function() {
      const voucherCode = this.getAttribute('data-voucher');
      const discount = this.getAttribute('data-discount');
      const discountType = this.getAttribute('data-type');
      
      // Ki·ªÉm tra xem c√≥ voucher ƒëang √°p d·ª•ng kh√¥ng
      const existingVoucher = localStorage.getItem('activeVoucher');
      if (existingVoucher) {
        const existingVoucherData = JSON.parse(existingVoucher);
        if (existingVoucherData.code === voucherCode) {
          showVoucherAlert('Voucher n√†y ƒë√£ ƒë∆∞·ª£c √°p d·ª•ng!');
          return;
        } else {
          // H·ªßy voucher c≈© tr∆∞·ªõc khi √°p d·ª•ng voucher m·ªõi
          if (confirm('B·∫°n ƒë√£ c√≥ voucher ƒëang √°p d·ª•ng. √Åp d·ª•ng voucher m·ªõi s·∫Ω h·ªßy voucher c≈©. B·∫°n c√≥ mu·ªën ti·∫øp t·ª•c?')) {
            // H·ªßy voucher c≈©
            localStorage.removeItem('activeVoucher');
            
            // Reset t·∫•t c·∫£ c√°c n√∫t voucher
            const allVoucherBtns = document.querySelectorAll('.apply-voucher-btn');
            allVoucherBtns.forEach(btn => {
              btn.textContent = '√Åp d·ª•ng voucher';
              btn.classList.remove('applied');
              btn.disabled = false;
            });
            
            // X√≥a t·∫•t c·∫£ n√∫t h·ªßy voucher
            const allCancelBtns = document.querySelectorAll('.cancel-voucher-btn');
            allCancelBtns.forEach(btn => btn.remove());
            
            // ·∫®n ph·∫ßn hi·ªÉn th·ªã voucher ƒëang √°p d·ª•ng
            const activeVoucherDisplay = document.getElementById('active-voucher-display');
            activeVoucherDisplay.style.display = 'none';
          } else {
            return; // Ng∆∞·ªùi d√πng kh√¥ng mu·ªën h·ªßy voucher c≈©
          }
        }
      }
      
      // L∆∞u voucher m·ªõi v√†o localStorage
      const voucher = {
        code: voucherCode,
        discount: discount,
        type: discountType,
        appliedAt: new Date().toISOString(),
        used: false
      };
      
      localStorage.setItem('activeVoucher', JSON.stringify(voucher));
      
      // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t
      this.textContent = 'ƒê√£ √°p d·ª•ng';
      this.classList.add('applied');
      this.disabled = true;
      
      // Th√™m n√∫t h·ªßy voucher
      const cancelBtn = document.createElement('button');
      cancelBtn.className = 'cancel-voucher-btn';
      cancelBtn.textContent = 'H·ªßy voucher';
      cancelBtn.onclick = function() {
        if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën h·ªßy voucher n√†y?')) {
          localStorage.removeItem('activeVoucher');
          this.remove(); // X√≥a n√∫t h·ªßy
          btn.textContent = '√Åp d·ª•ng voucher';
          btn.classList.remove('applied');
          btn.disabled = false;
          
          // ·∫®n ph·∫ßn hi·ªÉn th·ªã voucher ƒëang √°p d·ª•ng
          const activeVoucherDisplay = document.getElementById('active-voucher-display');
          activeVoucherDisplay.style.display = 'none';
          
          // Hi·ªÉn th·ªã th√¥ng b√°o h·ªßy voucher
          showVoucherAlert('ƒê√£ h·ªßy voucher!');
        }
      };
      this.parentNode.appendChild(cancelBtn);
      
      // Hi·ªÉn th·ªã ph·∫ßn voucher ƒëang √°p d·ª•ng
      const activeVoucherDisplay = document.getElementById('active-voucher-display');
      const activeVoucherText = document.getElementById('active-voucher-text');
      const removeActiveVoucherBtn = document.getElementById('remove-active-voucher');
      
      let voucherDescription = "";
      if (voucherCode === "TU_VAN_VI_THANH_NIEN_10") {
        voucherDescription = "Gi·∫£m 10% - T∆∞ v·∫•n s·ª©c kh·ªèe v·ªã th√†nh ni√™n";
      } else if (voucherCode === "TU_VAN_SINH_SAN_100K") {
        voucherDescription = "Gi·∫£m 100.000 VNƒê - T∆∞ v·∫•n s·ª©c kh·ªèe sinh s·∫£n";
      } else if (voucherCode === "GIANG_MAI_20") {
        voucherDescription = "Gi·∫£m 20% - X√©t nghi·ªám Giang Mai";
      } else if (voucherCode === "KHACH_LAN_DAU_50K") {
        voucherDescription = "Gi·∫£m 50.000 VNƒê - D√†nh cho kh√°ch l·∫ßn ƒë·∫ßu";
      }
      
      activeVoucherText.textContent = `Voucher ƒëang √°p d·ª•ng: ${voucherDescription}`;
      activeVoucherDisplay.style.display = 'block';
      
      // X·ª≠ l√Ω n√∫t h·ªßy voucher ·ªü ph·∫ßn hi·ªÉn th·ªã
      removeActiveVoucherBtn.onclick = function() {
        if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën h·ªßy voucher n√†y?')) {
          localStorage.removeItem('activeVoucher');
          activeVoucherDisplay.style.display = 'none';
          
          // Reset t·∫•t c·∫£ c√°c n√∫t voucher
          const allVoucherBtns = document.querySelectorAll('.apply-voucher-btn');
          allVoucherBtns.forEach(btn => {
            btn.textContent = '√Åp d·ª•ng voucher';
            btn.classList.remove('applied');
            btn.disabled = false;
          });
          
          // X√≥a t·∫•t c·∫£ n√∫t h·ªßy voucher
          const allCancelBtns = document.querySelectorAll('.cancel-voucher-btn');
          allCancelBtns.forEach(btn => btn.remove());
          
          // Hi·ªÉn th·ªã th√¥ng b√°o h·ªßy voucher
          showVoucherAlert('ƒê√£ h·ªßy voucher!');
        }
      };
      
      // Hi·ªÉn th·ªã th√¥ng b√°o
      const notification = document.getElementById('voucher-alert-box');
      const message = document.getElementById('voucher-alert-message');
      
      if (existingVoucher) {
        message.textContent = `ƒê√£ thay th·∫ø voucher c≈© b·∫±ng voucher m·ªõi!`;
      } else {
        if (discountType === 'percent') {
          message.textContent = `ƒê√£ √°p d·ª•ng voucher gi·∫£m ${discount}%!`;
        } else {
          message.textContent = `ƒê√£ √°p d·ª•ng voucher gi·∫£m ${parseInt(discount).toLocaleString('vi-VN')} VNƒê!`;
        }
      }
      
      notification.classList.add('show');
      
      // ·∫®n th√¥ng b√°o sau 3 gi√¢y
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    });
  });

  // Ki·ªÉm tra voucher ƒë√£ √°p d·ª•ng khi load trang
  const activeVoucher = localStorage.getItem('activeVoucher');
  if (activeVoucher) {
    const voucher = JSON.parse(activeVoucher);
    const voucherBtn = document.querySelector(`[data-voucher="${voucher.code}"]`);
    if (voucherBtn) {
      voucherBtn.textContent = 'ƒê√£ √°p d·ª•ng';
      voucherBtn.classList.add('applied');
      voucherBtn.disabled = true;
      
      // Th√™m n√∫t h·ªßy voucher n·∫øu ch∆∞a c√≥
      if (!voucherBtn.parentNode.querySelector('.cancel-voucher-btn')) {
        const cancelBtn = document.createElement('button');
        cancelBtn.className = 'cancel-voucher-btn';
        cancelBtn.textContent = 'H·ªßy voucher';
        cancelBtn.onclick = function() {
          if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën h·ªßy voucher n√†y?')) {
            localStorage.removeItem('activeVoucher');
            this.remove(); // X√≥a n√∫t h·ªßy
            voucherBtn.textContent = '√Åp d·ª•ng voucher';
            voucherBtn.classList.remove('applied');
            voucherBtn.disabled = false;
            
            // ·∫®n ph·∫ßn hi·ªÉn th·ªã voucher ƒëang √°p d·ª•ng
            const activeVoucherDisplay = document.getElementById('active-voucher-display');
            activeVoucherDisplay.style.display = 'none';
            
            // Hi·ªÉn th·ªã th√¥ng b√°o h·ªßy voucher
            showVoucherAlert('ƒê√£ h·ªßy voucher!');
          }
        };
        voucherBtn.parentNode.appendChild(cancelBtn);
      }
      
      // Hi·ªÉn th·ªã ph·∫ßn voucher ƒëang √°p d·ª•ng
      const activeVoucherDisplay = document.getElementById('active-voucher-display');
      const activeVoucherText = document.getElementById('active-voucher-text');
      const removeActiveVoucherBtn = document.getElementById('remove-active-voucher');
      
      let voucherDescription = "";
      if (voucher.code === "TU_VAN_VI_THANH_NIEN_10") {
        voucherDescription = "Gi·∫£m 10% - T∆∞ v·∫•n s·ª©c kh·ªèe v·ªã th√†nh ni√™n";
      } else if (voucher.code === "TU_VAN_SINH_SAN_100K") {
        voucherDescription = "Gi·∫£m 100.000 VNƒê - T∆∞ v·∫•n s·ª©c kh·ªèe sinh s·∫£n";
      } else if (voucher.code === "GIANG_MAI_20") {
        voucherDescription = "Gi·∫£m 20% - X√©t nghi·ªám Giang Mai";
      } else if (voucher.code === "KHACH_LAN_DAU_50K") {
        voucherDescription = "Gi·∫£m 50.000 VNƒê - D√†nh cho kh√°ch l·∫ßn ƒë·∫ßu";
      }
      
      activeVoucherText.textContent = `Voucher ƒëang √°p d·ª•ng: ${voucherDescription}`;
      activeVoucherDisplay.style.display = 'block';
      
      // X·ª≠ l√Ω n√∫t h·ªßy voucher ·ªü ph·∫ßn hi·ªÉn th·ªã
      removeActiveVoucherBtn.onclick = function() {
        if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën h·ªßy voucher n√†y?')) {
          localStorage.removeItem('activeVoucher');
          activeVoucherDisplay.style.display = 'none';
          
          // Reset t·∫•t c·∫£ c√°c n√∫t voucher
          const allVoucherBtns = document.querySelectorAll('.apply-voucher-btn');
          allVoucherBtns.forEach(btn => {
            btn.textContent = '√Åp d·ª•ng voucher';
            btn.classList.remove('applied');
            btn.disabled = false;
          });
          
          // X√≥a t·∫•t c·∫£ n√∫t h·ªßy voucher
          const allCancelBtns = document.querySelectorAll('.cancel-voucher-btn');
          allCancelBtns.forEach(btn => btn.remove());
          
          // Hi·ªÉn th·ªã th√¥ng b√°o h·ªßy voucher
          showVoucherAlert('ƒê√£ h·ªßy voucher!');
        }
      };
    }
  }
});
  </script>

  <!-- g·ªçi footer -->
  <div id="footer-placeholder"></div>
  <script>
  fetch('/Frontend/components/footer.html')
      .then(response => response.text())
      .then(data => {
    document.getElementById("footer-placeholder").innerHTML = data;
      });
  </script>

  <!-- H√†m hi·ªÉn th·ªã th√¥ng b√°o voucher ki·ªÉu alert-box -->
  <script>
    function showVoucherAlert(message) {
      const alertBox = document.getElementById('voucher-alert-box');
      const alertMessage = document.getElementById('voucher-alert-message');
      const alertClose = document.getElementById('voucher-alert-close');
      alertMessage.textContent = message;
      alertBox.classList.remove('hidden');
      // T·ª± ƒë·ªông ·∫©n sau 3 gi√¢y
      if (alertBox._timeout) clearTimeout(alertBox._timeout);
      alertBox._timeout = setTimeout(() => {
        alertBox.classList.add('hidden');
      }, 3000);
      // ·∫®n khi click v√†o n√∫t ƒë√≥ng
      alertClose.onclick = () => {
        alertBox.classList.add('hidden');
      };
    }
  </script>
</body>

</html>