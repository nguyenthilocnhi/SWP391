<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trung T√¢m S·ª©c Kh·ªèe An Gi·ªõi</title>
  <link rel="stylesheet" href="/Frontend/assets/css/danhGia.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
</head>

<body>
  <!-- g·ªçi header -->
   <div id="header-placeholder"> </div>
    <script>
      fetch('/Frontend/components/header_customer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById("header-placeholder").innerHTML = data;

          // G·ªçi h√†m JS c·ªßa header sau khi n·ªôi dung ƒë√£ render
          if (typeof initHeader === 'function') {
            initHeader();
          }
        });
    </script>

    <!-- G·ªçi file header v√† kh·ªüi ƒë·ªông JS sau khi ch√®n xong -->
    <script src="/Frontend/assets/js/header_customer.js"></script>  <!-- ƒê·∫£m b·∫£o file JS ƒë∆∞·ª£c load tr∆∞·ªõc -->
    <script>
      fetch('/Frontend/components/header_customer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById("header-placeholder").innerHTML = data;

          // G·ªçi l·∫°i h√†m JS x·ª≠ l√Ω header sau khi DOM ƒë√£ c√≥ ph·∫ßn header
          if (typeof initHeader === 'function') {
            initHeader();
          }
        });
    </script>

  <!-- t·∫°o 1 nh√£n th√¥ng b√°o -->
   <div id="alert-box" class="alert-box hidden">
      <p id="alert-message">B·∫°n c√≥ th√¥ng b√°o m·ªõi!</p>
      <span id="alert-close">&times;</span>
    </div>


    <main class="container">
        <div class="title"><strong>ƒê√°nh Gi√° D·ªãch V·ª•</strong></div>
        
        <div class="star-container">
          <div class="star-rating">
            <span class="star" data-value="1">&#9733;</span>
            <span class="star" data-value="2">&#9733;</span>
            <span class="star" data-value="3">&#9733;</span>
            <span class="star" data-value="4">&#9733;</span>
            <span class="star" data-value="5">&#9733;</span>
          </div>

          <p id="rating-value">Ch∆∞a c√≥ ƒë√°nh gi√°</p>

          <textarea
            class="rating-textarea"
            placeholder="Vi·∫øt c·∫£m nh·∫≠n c·ªßa b·∫°n v·ªÅ d·ªãch v·ª•..."
            rows="4"
          ></textarea>

          <button class="submit-rating-btn">G·ª≠i ƒë√°nh gi√°</button>
        </div>

        

    </main>

    
    <!-- ph·∫ßn ƒë√°nh gi√° sao -->
     <script>
      // X·ª≠ l√Ω ch·ªçn sao
      const stars = document.querySelectorAll('.star');
      const ratingValue = document.getElementById('rating-value');
      let selectedRating = 0;

      stars.forEach((star) => {
        star.addEventListener('mouseover', () => {
          const val = parseInt(star.getAttribute('data-value'));
          highlightStars(val);
        });

        star.addEventListener('mouseout', () => {
          highlightStars(selectedRating);
        });

        star.addEventListener('click', () => {
          selectedRating = parseInt(star.getAttribute('data-value'));
          ratingValue.textContent = `B·∫°n ƒë√°nh gi√° ${selectedRating} sao`;
        });
      });

      function highlightStars(rating) {
        stars.forEach((s) => {
          const val = parseInt(s.getAttribute('data-value'));
          if (val <= rating) {
            s.classList.add('selected');
          } else {
            s.classList.remove('selected');
          }
        });
      }

      // G·ª≠i ƒë√°nh gi√°
      const submitBtn = document.querySelector('.submit-rating-btn');
      const textarea = document.querySelector('.rating-textarea');

      submitBtn.addEventListener('click', () => {
        const reviewText = textarea.value.trim();

        if (selectedRating === 0) {
          alert('Vui l√≤ng ch·ªçn s·ªë sao ƒë√°nh gi√°.');
          return;
        }

        if (reviewText === '') {
          alert('Vui l√≤ng vi·∫øt nh·∫≠n x√©t.');
          return;
        }

        // In ra console (ho·∫∑c b·∫°n c√≥ th·ªÉ g·ª≠i l√™n server t·∫°i ƒë√¢y)
        console.log(`S·ªë sao: ${selectedRating}`);
        console.log(`N·ªôi dung: ${reviewText}`);

        // Reset
        textarea.value = '';
        selectedRating = 0;
        highlightStars(0);
        ratingValue.textContent = 'C·∫£m ∆°n b·∫°n ƒë√£ ƒë√°nh gi√°!';

        // Th√¥ng b√°o nh·∫π
        alert('üéâ ƒê√°nh gi√° c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n!');
      });
    </script>

   <!-- <script>
    const stars = document.querySelectorAll('.star-rating .star');
      const ratingText = document.getElementById('rating-value');
      let selectedRating = 0;

      stars.forEach((star, index) => {
        const value = index + 1;

        star.addEventListener('mouseover', () => {
          highlightStars(value);
        });

        star.addEventListener('mouseout', () => {
          highlightStars(selectedRating);
        });

        star.addEventListener('click', () => {
          selectedRating = value;
          ratingText.textContent = `B·∫°n ƒë√£ ƒë√°nh gi√°: ${value} sao`;
        });
      });

      function highlightStars(rating) {
        stars.forEach((star, index) => {
          star.classList.toggle('hover', index < rating);
          star.classList.toggle('selected', index < rating);
        });
      }

   </script> -->

  <!-- <script src="/Frontend/assets/js/header_customer.js"></script> -->

<!-- nh√£n th√¥ng b√°o -->
   <script>
      function showAlert(message) {
        const alertBox = document.getElementById('alert-box');
        const alertMessage = document.getElementById('alert-message');
        const alertClose = document.getElementById('alert-close');

        alertMessage.textContent = message;
        alertBox.classList.remove('hidden');

        // T·ª± ƒë·ªông ·∫©n sau 5 gi√¢y
        setTimeout(() => {
          alertBox.classList.add('hidden');
        }, 10000);

        // ·∫®n khi click v√†o n√∫t ƒë√≥ng
        alertClose.addEventListener('click', () => {
          alertBox.classList.add('hidden');
        });
      }

      // V√≠ d·ª•: g·ªçi th√¥ng b√°o m·ªõi
      document.addEventListener("DOMContentLoaded", function () {
        // Gi·∫£ l·∫≠p c√≥ th√¥ng b√°o m·ªõi
        setTimeout(() => {
          showAlert("üîî B·∫°n c√≥ 3 th√¥ng b√°o m·ªõi!");
        }, 1000); // sau 1 gi√¢y khi v√†o trang
      });
   </script>




  <!-- g·ªçi footer -->
  <div id="footer-placeholder"></div>
  <script>
    fetch('/Frontend/components/footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById("footer-placeholder").innerHTML = data;
      });
  </script>
</body>

</html>