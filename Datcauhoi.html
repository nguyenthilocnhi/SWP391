<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Đặt Câu Hỏi</title>
  <link rel="stylesheet" href="assets/css/datcauhoi.css" />
</head>
<body>
  <div class="container">
    <header class="logo">
    </header>

    <main>
      <h1>ĐẶT CÂU HỎI</h1>
      <p class="subtitle">Hỏi ẩn danh về sức khỏe, giới tính, tâm lý...</p>

      <form id="questionForm">
        <input type="text" id="nameInput" placeholder="Tên bạn (hoặc để trống)">
        <select id="topicSelect" required>
          <option disabled selected>Chọn chủ đề</option>
          <option value="suckhoe">Sức khỏe</option>
          <option value="tamly">Tâm lý</option>
          <option value="gioitinh">Giới tính</option>
          <option value="khac">Khác</option>
        </select>

        <div class="suggestions">
          <ul>
            <li onclick="fillSample('Kinh nguyệt không đều có sao không?')">Kinh nguyệt không đều có sao không?</li>
            <li onclick="fillSample('Làm sao để biết mình bị stress?')">Làm sao để biết mình bị stress?</li>
          </ul>
        </div>

        <textarea id="questionInput" placeholder="Nhập câu hỏi..." required></textarea>
        <button type="submit">Gửi câu hỏi</button>
        <p id="confirmation" class="hidden">✅ Câu hỏi đã được gửi!</p>
      </form>
    </main>
  </div>

  <script>
    function fillSample(text) {
      const input = document.getElementById("questionInput");
      input.value = text;
      input.scrollIntoView({ behavior: "smooth", block: "center" });
      input.focus();
    }

    document.getElementById("questionForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const name = document.getElementById("nameInput").value.trim() || "Ẩn danh";
      const topic = document.getElementById("topicSelect").value;
      const text = document.getElementById("questionInput").value.trim();
      const time = new Date().toLocaleString();

      const question = { time, sender: name, topic, text, status: "Chưa trả lời" };
      let data = JSON.parse(localStorage.getItem("questions") || "[]");
      data.push(question);
      localStorage.setItem("questions", JSON.stringify(data));

      const confirm = document.getElementById("confirmation");
      confirm.classList.remove("hidden");
      confirm.textContent = "✅ Câu hỏi đã được gửi!";

      this.reset();
    });
  </script>
</body>
</html>
