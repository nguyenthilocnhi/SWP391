<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>L·ªãch S·ª≠ C√¢u H·ªèi</title>
  <link rel="stylesheet" href="assets/css/lichsucauhoi.css" />
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <img src="https://i.postimg.cc/g2NJNPzk/Logo.png" alt="Logo" />
        <span class="brand">AN GI·ªöI</span>
      </div>
      <h1>L·ªäCH S·ª¨ C√ÇU H·ªéI</h1>
    </header>

    <main>
      <table id="historyTable">
        <thead>
          <tr>
            <th>Th·ªùi gian</th>
            <th>Ng∆∞·ªùi g·ª≠i</th>
            <th>Ch·ªß ƒë·ªÅ</th>
            <th>C√¢u h·ªèi</th>
            <th>Tr·∫°ng th√°i</th>
            <th>Chi ti·∫øt</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </main>
  </div>

  <!-- Modal chi ti·∫øt -->
  <div class="modal" id="detailModal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h3>Chi ti·∫øt c√¢u h·ªèi</h3>
      <p id="modalContent"></p>
    </div>
  </div>

  <footer class="custom-footer">
    <div class="footer-top">
      <div class="footer-logo">
        <img src="https://i.postimg.cc/Qxfg131W/Logo-L-ch-S-c-u-h-i.png" alt="Logo An Gi·ªõi" />
      </div>
      <div class="footer-hotline">
        <span>HOTLINE</span>
        <strong>1900 8484</strong>
      </div>
    </div>
    <hr />
    <div class="footer-info">
      <p>
        <strong>ƒê·ªãa ch·ªâ:</strong><br />
        Trung t√¢m X√©t nghi·ªám v√† ChƒÉm s√≥c s·ª©c kh·ªèe gi·ªõi t√≠nh ‚Äì An Gi·ªõi Gender Health<br />
        123 - 125 ƒê·ªìng VƒÉn C·ªëng, Ph∆∞·ªùng Th·∫°nh M·ªπ L·ª£i, TP Th·ªß ƒê·ª©c, TP H·ªì Ch√≠ Minh, Vi·ªát Nam
      </p>
      <p class="copyright">
        ¬© 2025 C√¥ng Ty TNHH An Gi·ªõi Health ‚Äî ƒêKKD 0315907012 c·∫•p ng√†y 23/09/2025
      </p>
    </div>
  </footer>

  <script>
    const tableBody = document.querySelector('#historyTable tbody');
    const questions = JSON.parse(localStorage.getItem('questions') || '[]');

    const getStatusHTML = (status) => {
      let icon = '', color = '';
      switch (status.toLowerCase()) {
        case 'ƒë√£ ph·∫£n h·ªìi':
          icon = 'üü¢'; color = 'green'; break;
        case 'ƒëang x·ª≠ l√Ω':
          icon = 'üü°'; color = 'orange'; break;
        case 't·ª´ ch·ªëi':
        case 'h·ªßy':
          icon = 'üî¥'; color = 'red'; break;
        default:
          icon = '‚ö™'; color = '#888';
      }
      return `<span style="color:${color}">${icon} ${status}</span>`;
    };

    if (questions.length === 0) {
      const row = document.createElement('tr');
      row.innerHTML = `<td colspan="6">Ch∆∞a c√≥ c√¢u h·ªèi n√†o ƒë∆∞·ª£c g·ª≠i.</td>`;
      tableBody.appendChild(row);
    } else {
      questions.forEach((q, i) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${q.time}</td>
          <td>${q.sender}</td>
          <td>${q.topic}</td>
          <td>${q.text}</td>
          <td>${getStatusHTML(q.status)}</td>
          <td><button class="detail-btn" onclick="showModal(${i})">Chi ti·∫øt</button></td>
        `;
        tableBody.appendChild(row);
      });
    }

    function showModal(index) {
      const q = questions[index];
      const content = `
        <strong>Th·ªùi gian:</strong> ${q.time}<br>
        <strong>Ng∆∞·ªùi g·ª≠i:</strong> ${q.sender}<br>
        <strong>Ch·ªß ƒë·ªÅ:</strong> ${q.topic}<br>
        <strong>C√¢u h·ªèi:</strong> ${q.text}<br>
        <strong>Tr·∫°ng th√°i:</strong> ${q.status}
      `;
      document.getElementById('modalContent').innerHTML = content;
      document.getElementById('detailModal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('detailModal').style.display = 'none';
    }

    window.onclick = function (event) {
      const modal = document.getElementById('detailModal');
      if (event.target === modal) modal.style.display = 'none';
    };
  </script>
</body>
</html>
